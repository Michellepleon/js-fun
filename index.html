<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    // creation of element
    const mainTitle = document.createElement("h1");
    const paragraphIntroduction = document.createElement("p");
    const imageBabyRedCatLayingUpsideDown = document.createElement("img");
    const breakLine1 = document.createElement("br");
    const buttonCreateForm = document.createElement("button");
    const sectionForm = document.createElement("section");
    const form = document.createElement("form");
    const formLabel = document.createElement("label");
    const textCatName = document.createElement("p");
    const inputBoxCatName = document.createElement("input");
    const textPersonName = document.createElement("p");
    const inputBoxPersonName = document.createElement("input");
    const textCatAge = document.createElement("p");
    const ageCat = document.createElement("input");
    const checkBox = document.createElement("input");
    const buttonSub = document.createElement("button");
    const headerTextForm = document.createElement("h2");

    // creation of elements
    document.body.appendChild(mainTitle);
    document.body.appendChild(paragraphIntroduction);
    document.body.appendChild(imageBabyRedCatLayingUpsideDown);
    document.body.appendChild(breakLine1);
    document.body.appendChild(buttonCreateForm);
    document.body.appendChild(headerTextForm);
    document.body.appendChild(sectionForm);

    // Adding content between open and closing tags
    mainTitle.innerHTML = "Minou";
    paragraphIntroduction.innerHTML =
      "The <b>cat</b> is a <i>domestic</i> species of small carnivorous mammal. It is the only domesticated species in the family Felidae and is commonly referred to as the domestic cat or house cat to distinguish it from the wild members of the family.";
      buttonCreateForm.innerHTML = "Click me !!!";
    textCatName.innerHTML = "What is your Cat's name?";
    textPersonName.innerHTML = "What is your name?";
    textCatAge.innerHTML = "How old is your cat";
    // path to images
    imageBabyRedCatLayingUpsideDown.src = "https://i.pinimg.com/originals/eb/63/78/eb63787ee9aed3d01f4d871738cea9bb.jpg";

    // adding styles to element
    imageBabyRedCatLayingUpsideDown.style.borderRadius = "20px";
    buttonCreateForm.style.backgroundColor = "cyan";

    function createInputForm() {
      // add child to form
      sectionForm.appendChild(form);
      form.appendChild(formLabel);
      form.appendChild(textCatName);
      form.appendChild(inputBoxCatName);
      form.appendChild(textPersonName);
      form.appendChild(inputBoxPersonName);
      form.appendChild(textCatAge);
      form.appendChild(ageCat);
      form.appendChild(checkBox);
      form.appendChild(buttonSub);
      // set attributes values
      form.id = "myForm"
      form.method = "post";
      form.action = "";
      form.style = "width:300px; margin: 0px";
      inputBoxCatName.type = "text";
      inputBoxCatName.placeholder = "Cat Name";
      inputBoxCatName.style = "";
      inputBoxCatName.id = "catName";
      inputBoxCatName.className = "inputToValid";
      inputBoxPersonName.type = "text";
      inputBoxPersonName.placeholder = "Name";
      inputBoxPersonName.style = "";
      inputBoxPersonName.id = "parentName";
      inputBoxPersonName.className = "inputToValid";
      ageCat.type = "text";
      ageCat.placeholder = "Age";
      ageCat.style = "";
      ageCat.id = "ageCat";
      ageCat.className = "inputToValid";
      checkBox.type = "checkbox";
      checkBox.labels = "Male";
      buttonSub.id = "buttonSub";
      buttonSub.type = "button";
      buttonSub.value = "Submit";
      buttonSub.style.backgroundColor = "pink";
      buttonSub.innerHTML = "Submit";
      headerTextForm.innerHTML = "Told us about your cat :) !!";
    }

    // function getInput() {
    //   let input = document.getElementById("myForm").value;
    //   console.log(input);
    //   return input;
    // }

    function validFormlength(input) {
      let valid = false;
      if (input.length >= 2 && input.length <= 15) {
        console.log("The input length is valid!");
        valid = true;
      } else {
        console.log("The input length is invalid!");
      }
      return valid;
    }

    function validCapitalLetter(input) {
      const maximumCapitalLetters = 5;
      let capitalLetterFound = "";
      let numberOfCapitalLetters = 0;
      let isFound = false;
      for (let i = 0; i < input.length; i++) {
        if (
          input.charAt(i) == input.charAt(i).toUpperCase() &&
          input.charAt(i).match(/[a-z]/i)
        ) {
          capitalLetterFound = input.charAt(i);
          console.log("Capital letter found is: " + capitalLetterFound);
          numberOfCapitalLetters++;
        }
      }
      if (
        numberOfCapitalLetters > 0 &&
        numberOfCapitalLetters <= maximumCapitalLetters
      ) {
        console.log(
          "There's " + numberOfCapitalLetters + " capital letters found!"
        );
        console.log(
          "The name has at most one capital letter and maximum " +
            maximumCapitalLetters +
            "!"
        );
      } else {
        console.log(
          "There's " + numberOfCapitalLetters + " capital letters found!"
        );
        console.log(
          "The name needs to have at most one capital letter and maximum " +
            maximumCapitalLetters +
            "!"
        );
      }
      return isFound;
    }

    //console.log(validCapitalLetter("all letters here are lowercase"));
    //console.log(validCapitalLetter("We Have some uppercase Letters in this One."));

    buttonCreateForm.addEventListener("click", () => {
      createInputForm();
    });

    buttonSub.addEventListener("onSubmit", () => {
      let input = getInput();
      validFormlength(input);
      validCapitalLetter(input);
      // TODO more validations function calls
      console.log(input);
      const inputAsJson = JSON.stringify(input);
    });
    //let list = document.querySelector('buttonSub');
  </script>
</html>
